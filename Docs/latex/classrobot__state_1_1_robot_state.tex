\hypertarget{classrobot__state_1_1_robot_state}{}\doxysection{robot\+\_\+state.\+Robot\+State Class Reference}
\label{classrobot__state_1_1_robot_state}\index{robot\_state.RobotState@{robot\_state.RobotState}}


The node manager class.  


\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classrobot__state_1_1_robot_state_aa31fcdca351d627abc93a41d74d60545}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\begin{DoxyCompactList}\small\item\em initalises the node and the main attributes, defines the service servers and starts publishing on a separate thread ... \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classrobot__state_1_1_robot_state_acd2a2dd2e16fdb02ba5342a2f3d3f976}{set\+\_\+pose\+\_\+callback}} (self, request)
\begin{DoxyCompactList}\small\item\em The {\ttfamily robot/set\+\_\+pose} service callback implementation. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classrobot__state_1_1_robot_state_a0146a621758c0d550f393c786654d484}{Update\+Robot\+Pose\+\_\+\+Callback}} (self, odom)
\begin{DoxyCompactList}\small\item\em The {\ttfamily /odom} topic callback implementation, simply update self.\+pose with current robot position taken from Odometry. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classrobot__state_1_1_robot_state_a3b5a8c69fb7f77abc817e1b3bb109ba7}{get\+\_\+pose\+\_\+callback}} (self, request)
\begin{DoxyCompactList}\small\item\em The {\ttfamily robot/get\+\_\+pose} service callback implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The node manager class. 

This class defines two services to get and set the current robot pose, a publisher to notify that the battery is low, and a subscriber to get odometry values of the robot. ... \hypertarget{classrobot__state_1_1_robot_state_autotoc_md37}{}\doxysubsubsection{Attributes}\label{classrobot__state_1_1_robot_state_autotoc_md37}
{\bfseries{pose}} \+: Point contains the coordinates (x,y) of robot position

\+\_\+\+\_\+battery\+\_\+low \+\_\+\+\_\+\+: boolean flag containing battery state (True=Low False=high)

{\bfseries{randomness}} \+: boolean flag to enable randomness\hypertarget{classrobot__state_1_1_robot_state_autotoc_md38}{}\doxysubsubsection{Methods}\label{classrobot__state_1_1_robot_state_autotoc_md38}
{\bfseries{init}}(self)\+:

initalises the node and the main attributes, defines the service servers and starts publishing on a separate thread

{\bfseries{set\+\_\+pose\+\_\+callback}}(self, request).

The {\ttfamily robot/set\+\_\+pose} service callback implementation. The {\ttfamily request} input parameter is the current robot pose to be set, as given by the client. This server returns an empty {\ttfamily response}.

Update\+Robot\+Pose\+\_\+\+Callback(self, odom)\+:

The {\ttfamily /odom} topic callback implementation, simply update self.\+pose with current robot position taken from Odometry

{\bfseries{get\+\_\+pose\+\_\+callback}}(self, request)\+:

The {\ttfamily robot/get\+\_\+pose} service callback implementation. The {\ttfamily request} input parameter is given by the client as empty. Thus, it is not used. The {\ttfamily response} returned to the client contains the current robot pose.

{\bfseries{is\+\_\+battery\+\_\+low}}(self)\+:

Publish changes of battery levels. This method runs on a separate thread.

{\bfseries{random\+\_\+battery\+\_\+notifier}}(self, publisher)\+:

Publish when the battery changes state (i.\+e., high/low) based on a random delay within the interval \mbox{[}{\ttfamily self.\+\_\+random\+\_\+battery\+\_\+time\mbox{[}0\mbox{]}}, {\ttfamily self.\+\_\+random\+\_\+battery\+\_\+time\mbox{[}1\mbox{]}} for discharging, {\ttfamily self.\+\_\+random\+\_\+battery\+\_\+time\mbox{[}2\mbox{]}}, {\ttfamily self.\+\_\+random\+\_\+battery\+\_\+time\mbox{[}3\mbox{]} for recharging). The message is published through the}publisher{\ttfamily input parameter and is a boolean value, i.\+e.,}True{\ttfamily \+: battery low,}False\`{}\+: battery high. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classrobot__state_1_1_robot_state_aa31fcdca351d627abc93a41d74d60545}\label{classrobot__state_1_1_robot_state_aa31fcdca351d627abc93a41d74d60545}} 
\index{robot\_state.RobotState@{robot\_state.RobotState}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!robot\_state.RobotState@{robot\_state.RobotState}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def robot\+\_\+state.\+Robot\+State.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



initalises the node and the main attributes, defines the service servers and starts publishing on a separate thread ... 

\hypertarget{classrobot__state_1_1_robot_state_autotoc_md39}{}\doxysubsubsection{Parameters}\label{classrobot__state_1_1_robot_state_autotoc_md39}
{\bfseries{pose}} \+: Point

robot position

{\bfseries{time}} \+: int

counter to know time required for recharging

{\bfseries{battery\+\_\+low}} \+: boolean

flag to state if robot battery is low or not ({\ttfamily True}\+: battery low, {\ttfamily False}\+: battery high.)

{\bfseries{randomness}}\+: boolean

flag to state if enabling randomness or not 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classrobot__state_1_1_robot_state_a3b5a8c69fb7f77abc817e1b3bb109ba7}\label{classrobot__state_1_1_robot_state_a3b5a8c69fb7f77abc817e1b3bb109ba7}} 
\index{robot\_state.RobotState@{robot\_state.RobotState}!get\_pose\_callback@{get\_pose\_callback}}
\index{get\_pose\_callback@{get\_pose\_callback}!robot\_state.RobotState@{robot\_state.RobotState}}
\doxysubsubsection{\texorpdfstring{get\_pose\_callback()}{get\_pose\_callback()}}
{\footnotesize\ttfamily def robot\+\_\+state.\+Robot\+State.\+get\+\_\+pose\+\_\+callback (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{request }\end{DoxyParamCaption})}



The {\ttfamily robot/get\+\_\+pose} service callback implementation. 

\hypertarget{classrobot__state_1_1_robot_state_autotoc_md42}{}\doxysubsubsection{...}\label{classrobot__state_1_1_robot_state_autotoc_md42}

\begin{DoxyParams}{Parameters}
{\em request} & \+: Point\\
\hline
\end{DoxyParams}
input parameter is given by the client as empty. thus it\textquotesingle{}s not used

\begin{DoxyReturn}{Returns}
response\+: Get\+Pose\+Response()
\end{DoxyReturn}
contains the current robot pose.

def get\+\_\+pose\+\_\+callback(self, request)\+: \hypertarget{classrobot__state_1_1_robot_state_autotoc_md43}{}\doxysubsection{Log information.}\label{classrobot__state_1_1_robot_state_autotoc_md43}
if self.\+\_\+pose is None\+: rospy.\+logerr(anm.\+tag\+\_\+log(\textquotesingle{}Cannot get an unspecified robot position\textquotesingle{}, L\+O\+G\+\_\+\+T\+AG)) \hypertarget{classrobot__state_1_1_robot_state_autotoc_md44}{}\doxysubsection{Create the response with the robot pose and return it.}\label{classrobot__state_1_1_robot_state_autotoc_md44}
response = Get\+Pose\+Response() response.\+pose = self.\+\_\+pose return response \mbox{\Hypertarget{classrobot__state_1_1_robot_state_acd2a2dd2e16fdb02ba5342a2f3d3f976}\label{classrobot__state_1_1_robot_state_acd2a2dd2e16fdb02ba5342a2f3d3f976}} 
\index{robot\_state.RobotState@{robot\_state.RobotState}!set\_pose\_callback@{set\_pose\_callback}}
\index{set\_pose\_callback@{set\_pose\_callback}!robot\_state.RobotState@{robot\_state.RobotState}}
\doxysubsubsection{\texorpdfstring{set\_pose\_callback()}{set\_pose\_callback()}}
{\footnotesize\ttfamily def robot\+\_\+state.\+Robot\+State.\+set\+\_\+pose\+\_\+callback (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{request }\end{DoxyParamCaption})}



The {\ttfamily robot/set\+\_\+pose} service callback implementation. 

\hypertarget{classrobot__state_1_1_robot_state_autotoc_md40}{}\doxysubsubsection{...}\label{classrobot__state_1_1_robot_state_autotoc_md40}

\begin{DoxyParams}{Parameters}
{\em request} & \+: Point\\
\hline
\end{DoxyParams}
current robot pose to be set

\begin{DoxyReturn}{Returns}
Set\+Pose\+Response\+: Set\+Pose\+Response()
\end{DoxyReturn}
empty response \mbox{\Hypertarget{classrobot__state_1_1_robot_state_a0146a621758c0d550f393c786654d484}\label{classrobot__state_1_1_robot_state_a0146a621758c0d550f393c786654d484}} 
\index{robot\_state.RobotState@{robot\_state.RobotState}!UpdateRobotPose\_Callback@{UpdateRobotPose\_Callback}}
\index{UpdateRobotPose\_Callback@{UpdateRobotPose\_Callback}!robot\_state.RobotState@{robot\_state.RobotState}}
\doxysubsubsection{\texorpdfstring{UpdateRobotPose\_Callback()}{UpdateRobotPose\_Callback()}}
{\footnotesize\ttfamily def robot\+\_\+state.\+Robot\+State.\+Update\+Robot\+Pose\+\_\+\+Callback (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{odom }\end{DoxyParamCaption})}



The {\ttfamily /odom} topic callback implementation, simply update self.\+pose with current robot position taken from Odometry. 

\hypertarget{classrobot__state_1_1_robot_state_autotoc_md41}{}\doxysubsubsection{...}\label{classrobot__state_1_1_robot_state_autotoc_md41}

\begin{DoxyParams}{Parameters}
{\em odom} & \+: odometry\\
\hline
\end{DoxyParams}
current robot odmetry

\begin{DoxyReturn}{Returns}
\mbox{[}None\mbox{]} 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
scripts/\mbox{\hyperlink{robot__state_8py}{robot\+\_\+state.\+py}}\end{DoxyCompactItemize}
